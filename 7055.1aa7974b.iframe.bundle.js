"use strict";(globalThis.webpackChunk_kiwicom_orbit_components=globalThis.webpackChunk_kiwicom_orbit_components||[]).push([[7055],{"./src/ButtonLink/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/extends.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),clsx__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../node_modules/clsx/dist/clsx.mjs"),_primitives_ButtonPrimitive__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/primitives/ButtonPrimitive/index.tsx"),_primitives_ButtonPrimitive_sizes__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/primitives/ButtonPrimitive/sizes.ts");const typeStyles={primary:"bg-button-link-primary-background hover:[@media(hover)_and_(pointer:fine)]:bg-button-link-primary-background-hover active:bg-button-link-primary-background-active focus:bg-button-link-primary-background-focus text-button-link-primary-foreground focus:text-button-link-primary-foreground-focus active:text-button-link-primary-foreground-active hover:[@media(hover)_and_(pointer:fine)]:text-button-link-primary-foreground-hover",secondary:"bg-button-link-secondary-background hover:[@media(hover)_and_(pointer:fine)]:bg-button-link-secondary-background-hover active:bg-button-link-secondary-background-active focus:bg-button-link-secondary-background-focus text-button-link-secondary-foreground focus:text-button-link-secondary-foreground-focus active:text-button-link-secondary-foreground-active hover:[@media(hover)_and_(pointer:fine)]:text-button-link-secondary-foreground-hover",critical:"bg-button-link-critical-background hover:[@media(hover)_and_(pointer:fine)]:bg-button-link-critical-background-hover active:bg-button-link-critical-background-active focus:bg-button-link-critical-background-focus text-button-link-critical-foreground focus:text-button-link-critical-foreground-focus active:text-button-link-critical-foreground-active hover:[@media(hover)_and_(pointer:fine)]:text-button-link-critical-foreground-hover"},typeCompactStyles={primary:"text-button-link-primary-foreground focus:text-button-link-primary-foreground-focus active:text-button-link-primary-foreground-active hover:[@media(hover)_and_(pointer:fine)]:text-button-link-primary-foreground-hover",secondary:"text-button-link-secondary-foreground focus:text-product-normal-hover active:text-product-normal-active hover:[@media(hover)_and_(pointer:fine)]:text-product-normal-hover",critical:"text-button-link-critical-foreground focus:text-button-link-critical-foreground-focus active:text-button-link-critical-foreground-active hover:[@media(hover)_and_(pointer:fine)]:text-button-link-critical-foreground-hover"},typeDisabledStyles={primary:"bg-button-link-primary-background text-button-link-primary-foreground",secondary:"bg-button-link-secondary-background text-button-link-secondary-foreground",critical:"bg-button-link-critical-background text-button-link-critical-foreground"},typeCompactDisabledStyles={primary:"text-button-link-primary-foreground",secondary:"text-button-link-secondary-foreground",critical:"text-button-link-critical-foreground"},ButtonLink=react__WEBPACK_IMPORTED_MODULE_0__.forwardRef((({type="primary",size="normal",compact,disabled,children,iconLeft,iconRight,...props},ref)=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(_primitives_ButtonPrimitive__WEBPACK_IMPORTED_MODULE_1__.A,(0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_2__.A)({ref,iconLeft,iconRight,disabled},props,{className:(0,clsx__WEBPACK_IMPORTED_MODULE_3__.A)("space-x-200 rtl:space-x-reverse",_primitives_ButtonPrimitive_sizes__WEBPACK_IMPORTED_MODULE_4__.Gd[size],null==children&&_primitives_ButtonPrimitive_sizes__WEBPACK_IMPORTED_MODULE_4__.eW[size],!0!==compact&&!0!==disabled&&typeStyles[type],!0===compact&&!0!==disabled&&typeCompactStyles[type],!0!==compact&&!0===disabled&&typeDisabledStyles[type],!0===compact&&!0===disabled&&typeCompactDisabledStyles[type],!0!==compact&&null!=children&&[null==iconLeft&&null==iconRight&&_primitives_ButtonPrimitive_sizes__WEBPACK_IMPORTED_MODULE_4__.pd[size],null!=iconLeft&&null==iconRight&&_primitives_ButtonPrimitive_sizes__WEBPACK_IMPORTED_MODULE_4__.w9[size],null==iconLeft&&null!=iconRight&&_primitives_ButtonPrimitive_sizes__WEBPACK_IMPORTED_MODULE_4__.bo[size],null!=iconLeft&&null!=iconRight&&_primitives_ButtonPrimitive_sizes__WEBPACK_IMPORTED_MODULE_4__.hR[size]],!0===props.circled&&"rounded-full")}),children)));ButtonLink.displayName="ButtonLink";const __WEBPACK_DEFAULT_EXPORT__=ButtonLink;ButtonLink.__docgenInfo={description:"",methods:[],displayName:"ButtonLink",props:{type:{defaultValue:{value:'"primary"',computed:!1},required:!1},size:{defaultValue:{value:'"normal"',computed:!1},required:!1}}}},"./src/Modal/ModalCloseButton/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),_ButtonLink__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/ButtonLink/index.tsx"),_icons_Close__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/icons/Close.tsx");const ModalCloseButton=({onClick,dataTest,title})=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(_ButtonLink__WEBPACK_IMPORTED_MODULE_1__.A,{onClick,size:"normal",iconLeft:react__WEBPACK_IMPORTED_MODULE_0__.createElement(_icons_Close__WEBPACK_IMPORTED_MODULE_2__.A,null),dataTest,type:"secondary",title}),__WEBPACK_DEFAULT_EXPORT__=ModalCloseButton;ModalCloseButton.__docgenInfo={description:"",methods:[],displayName:"ModalCloseButton"}},"./src/Modal/ModalContext.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Vs:()=>ModalContext});const ModalContext=__webpack_require__("../../node_modules/react/index.js").createContext({setHasModalTitle:()=>{},setHasModalDescription:()=>{},setHasModalSection:()=>{},removeHasModalSection:()=>{},setFooterHeight:()=>{},callContextFunctions:()=>{},hasModalSection:!1,hasMobileHeader:!0,isMobileFullPage:!1,isInsideModal:!1,closable:!1});ModalContext.displayName="ModalOrbitContext"},"./src/Modal/consts.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{F:()=>SIZES,q:()=>CLOSE_BUTTON_DATA_TEST});let SIZES=function(SIZES){return SIZES.EXTRASMALL="extraSmall",SIZES.SMALL="small",SIZES.NORMAL="normal",SIZES.LARGE="large",SIZES.EXTRALARGE="extraLarge",SIZES}({});const CLOSE_BUTTON_DATA_TEST="ModalCloseButton"},"./src/Modal/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ay:()=>src_Modal});var react=__webpack_require__("../../node_modules/react/index.js"),clsx=__webpack_require__("../../node_modules/clsx/dist/clsx.mjs"),ModalContext=__webpack_require__("./src/Modal/ModalContext.tsx"),ModalCloseButton=__webpack_require__("./src/Modal/ModalCloseButton/index.tsx"),consts=__webpack_require__("./src/Modal/consts.ts"),useRandomId=__webpack_require__("./src/hooks/useRandomId/index.ts"),useMediaQuery=__webpack_require__("./src/hooks/useMediaQuery/index.ts"),useFocusTrap_consts=__webpack_require__("./src/hooks/useFocusTrap/consts.ts");const hooks_usePrevious=value=>{const ref=react.useRef();return react.useEffect((()=>{ref.current=value})),ref.current};var useLockScrolling=__webpack_require__("./src/hooks/useLockScrolling/index.ts"),useTheme=__webpack_require__("./src/hooks/useTheme/index.ts");const maxWidthClasses={[consts.F.EXTRASMALL]:"max-w-modal-extra-small",[consts.F.SMALL]:"max-w-modal-small",[consts.F.NORMAL]:"max-w-modal-normal",[consts.F.LARGE]:"max-w-modal-large",[consts.F.EXTRALARGE]:"max-w-modal-extra-large",largeMobile:{[consts.F.EXTRASMALL]:"lm:max-w-modal-extra-small",[consts.F.SMALL]:"lm:max-w-modal-small",[consts.F.NORMAL]:"lm:max-w-modal-normal",[consts.F.LARGE]:"lm:max-w-modal-large",[consts.F.EXTRALARGE]:"lm:max-w-modal-extra-large"},footer:{[consts.F.EXTRASMALL]:"lm:[&_.orbit-modal-footer]:max-w-modal-extra-small",[consts.F.SMALL]:"lm:[&_.orbit-modal-footer]:max-w-modal-small",[consts.F.NORMAL]:"lm:[&_.orbit-modal-footer]:max-w-modal-normal",[consts.F.LARGE]:"lm:[&_.orbit-modal-footer]:max-w-modal-large",[consts.F.EXTRALARGE]:"lm:[&_.orbit-modal-footer]:max-w-modal-extra-large"}},Modal=react.forwardRef((({size=consts.F.NORMAL,scrollingElementRef,children,onClose,triggerRef,fixedFooter=!1,isMobileFullPage=!1,preventOverlayClose=!1,onScroll,hasCloseButton=!0,mobileHeader=!0,disableAnimation=!1,dataTest,id,labelClose="Close",lockScrolling=!0,ariaLabel,ariaLabelledby,ariaDescribedby},ref)=>{const[loaded,setLoaded]=react.useState(!1),[scrolled,setScrolled]=react.useState(!1),[fullyScrolled,setFullyScrolled]=react.useState(!1),[hasModalTitle,setHasModalTitle]=react.useState(!1),[hasModalDescription,setHasModalDescription]=react.useState(!1),[hasModalSection,setHasModalSection]=react.useState(!1),[clickedModalBody,setClickedModalBody]=react.useState(!1),[fixedClose,setFixedClose]=react.useState(!1),[modalWidth,setModalWidth]=react.useState(0),[footerHeight,setFooterHeight]=react.useState(0),focusableElements=react.useRef([]),modalContent=react.useRef(null),modalBody=react.useRef(null),modalTitleID=(0,useRandomId.Ay)(),modalDescriptionID=(0,useRandomId.Ay)(),theme=(0,useTheme.A)(),{isLargeMobile}=(0,useMediaQuery.A)(),scrollingElement=react.useRef(null),setScrollingElementRefs=react.useCallback((node=>{scrollingElement.current=node,scrollingElementRef&&("function"==typeof scrollingElementRef?scrollingElementRef(node):scrollingElementRef.current=node)}),[scrollingElementRef]);(0,useLockScrolling.A)(scrollingElement,lockScrolling,[isLargeMobile]);const modalContentRef=react.useCallback((node=>{modalContent.current=node,isLargeMobile||setScrollingElementRefs(node)}),[isLargeMobile,setScrollingElementRefs]),modalBodyRef=react.useCallback((node=>{modalBody.current=node,isLargeMobile&&setScrollingElementRefs(node)}),[isLargeMobile,setScrollingElementRefs]),prevChildren=hooks_usePrevious(children),setDimensions=()=>{const content=modalContent.current;if(!content)return;const footerEl=content.querySelector(".orbit-modal-footer"),contentDimensions=content.getBoundingClientRect();setModalWidth(contentDimensions.width),footerEl?.clientHeight&&setFooterHeight(footerEl.clientHeight)},decideFixedFooter=()=>{if(!modalContent.current||!modalBody.current)return;const content=modalContent.current,body=modalBody.current,contentHeight=content.scrollHeight>content.offsetHeight+40?content.offsetHeight:content.scrollHeight;setFullyScrolled(contentHeight+40-body.scrollTop<=window.innerHeight)};react.useEffect((()=>{focusableElements.current=Array.from(modalContent.current?.querySelectorAll(useFocusTrap_consts.A)||[]),focusableElements.current.length&&focusableElements.current[0].focus()}),[]);const setScrollStates=(target,fullScrollOffset,fixCloseOffset,scrollBegin,mobile)=>{const content=modalContent.current;if(!content)return;const{height:contentHeight}=content.getBoundingClientRect(),scrollHeight=!mobile&&target.scrollHeight>contentHeight+80?contentHeight+80:target.scrollHeight;setScrolled(target.scrollTop>=Number(scrollBegin)+(mobile?0:target.scrollTop)),setFixedClose(target.scrollTop>=fixCloseOffset),setFullyScrolled(fixedFooter&&target.scrollTop>=scrollHeight-target.clientHeight-fullScrollOffset)},getScrollTopPoint=mobile=>{const content=modalContent.current;if(!content)return null;const headingEl=content.querySelector(".orbit-modal-heading");if(headingEl){const{top}=headingEl.getBoundingClientRect();return top}if(mobile)return 40;const{top}=content.getBoundingClientRect();return top},callContextFunctions=react.useCallback((()=>{setDimensions(),decideFixedFooter()}),[]),getScrollPosition=()=>scrollingElement.current?scrollingElement.current.scrollTop:null,setScrollPosition=value=>{scrollingElement.current&&(scrollingElement.current.scrollTop=value)};react.useImperativeHandle(ref,(()=>({getScrollPosition,setScrollPosition,modalBody,modalContent}))),react.useEffect((()=>{if(!disableAnimation){const timer=setTimeout((()=>{setLoaded(!0),decideFixedFooter(),setDimensions()}),15);return()=>{clearTimeout(timer)}}decideFixedFooter(),setDimensions()}),[]),react.useEffect((()=>{const handleResize=()=>{setDimensions(),decideFixedFooter()};return window.addEventListener("resize",handleResize),()=>{window.removeEventListener("resize",handleResize)}}),[]),react.useEffect((()=>{children!==prevChildren&&(decideFixedFooter(),setDimensions())}),[children,prevChildren]),react.useEffect((()=>()=>{triggerRef?.current?.focus()}),[triggerRef]);const hasCloseContainer=mobileHeader&&(hasModalTitle||onClose&&hasCloseButton),value=react.useMemo((()=>({setHasModalTitle,setHasModalDescription,setHasModalSection:()=>setHasModalSection(!0),removeHasModalSection:()=>setHasModalSection(!1),callContextFunctions,setFooterHeight,hasModalSection,hasMobileHeader:mobileHeader,isMobileFullPage,closable:Boolean(onClose),isInsideModal:!0,titleID:modalTitleID,descriptionID:modalDescriptionID})),[callContextFunctions,hasModalSection,isMobileFullPage,mobileHeader,onClose,modalTitleID,modalDescriptionID]),cssVars={...isLargeMobile?{"--orbit-modal-footer-height":fixedFooter?`${footerHeight}px`:"0"}:{maxHeight:isMobileFullPage?"100%":`calc(100% - ${theme.orbit.space800} - ${fixedFooter&&Boolean(footerHeight)?footerHeight:0}px)`,bottom:`${(isMobileFullPage?0:parseInt(theme.orbit.space800,10))+(fixedFooter&&Boolean(footerHeight)?footerHeight:0)}px`},"--orbit-modal-width":`${modalWidth}px`};return react.createElement("div",{className:(0,clsx.A)("orbit-modal-body","z-overlay font-base fixed inset-0 box-border size-full overflow-x-hidden outline-none",!isMobileFullPage&&"bg-[black]/50","lm:overflow-y-auto lm:p-1000 lm:bg-[black]/50"),tabIndex:-1,onKeyDown:event=>{onClose&&"Escape"===event.key&&(event.stopPropagation(),onClose(event));const firstElement=focusableElements.current[0],lastElement=focusableElements.current[focusableElements.current.length-1];"Tab"===event.key&&(event.shiftKey?document.activeElement===firstElement&&(event.preventDefault(),lastElement.focus()):document.activeElement===lastElement&&(event.preventDefault(),firstElement.focus()))},onScroll:event=>{event.target instanceof HTMLDivElement&&event.target===modalBody.current&&(onScroll&&onScroll(event),setScrollStates(event.target,40,40,getScrollTopPoint()))},onClick:event=>{onClose&&!1===preventOverlayClose&&!clickedModalBody&&modalContent.current&&event.target instanceof Element&&!modalContent.current.contains(event.target)&&event.target.className&&/orbit-modal-wrapper|orbit-modal-body/.test(event.target.className)&&onClose&&onClose(event),setClickedModalBody(!1)},"data-test":dataTest,id,ref:modalBodyRef,role:"dialog","aria-modal":"true","aria-label":ariaLabel,"aria-labelledby":ariaLabelledby||(hasModalTitle?modalTitleID:void 0),"aria-describedby":ariaDescribedby||(hasModalDescription?modalDescriptionID:void 0)},react.createElement("div",{className:(0,clsx.A)("orbit-modal-wrapper","fixed mx-auto my-0 box-border flex min-h-full w-full items-start",disableAnimation?!isMobileFullPage&&"top-800":["duration-normal transition-[top] ease-in-out",loaded?!isMobileFullPage&&"top-800":"top-full"],"lm:relative lm:top-0 lm:items-center",maxWidthClasses.largeMobile[size])},react.createElement("div",{className:(0,clsx.A)("orbit-modal-wrapper-content","lm:rounded-modal lm:overflow-visible overflow-y-auto overflow-x-hidden","font-base bg-elevation-flat shadow-level4 absolute box-border w-full","lm:relative lm:bottom-auto lm:pb-0","lm:[&_.orbit-modal-section:last-of-type]:pb-1000 lm:[&_.orbit-modal-section:last-of-type:after]:content-none lm:[&_.orbit-modal-section:last-of-type]:mb-[var(--orbit-modal-footer-height,0px)]","lm:[&_.orbit-modal-mobile-header]:w-[calc(var(--orbit-modal-width)-48px-theme(spacing.1000))]","lm:[&:has(.orbit-modal-header-container:last-child)]:pb-1000",footerHeight&&"lm:[&_.orbit-modal-section]:rounded-b-none",!hasModalSection&&"[&_.orbit-modal-header-container]:mb-800 lm:[&_.orbit-modal-header-container]:mb-[var(--orbit-modal-footer-height,0px)]",isMobileFullPage?"top-0 max-h-full":["rounded-t-modal",scrolled&&"[&_.orbit-modal-mobile-header]:rounded-tl-modal",scrolled&&"[&_.orbit-modal-mobile-header]:top-800"],fixedFooter&&footerHeight&&["[&_.orbit-modal-footer]:p-400 [&_.orbit-modal-footer]:fixed [&_.orbit-modal-footer]:bottom-0","[&_.orbit-modal-footer]:duration-fast [&_.orbit-modal-footer]:transition-shadow [&_.orbit-modal-footer]:ease-in-out",fullyScrolled?"[&_.orbit-modal-footer]:shadow-modal-scrolled":"[&_.orbit-modal-footer]:shadow-modal lm:[&_.orbit-modal-footer]:rounded-b-none","[&_.orbit-modal-section:last-of-type]:pb-600 [&_.orbit-modal-section:last-of-type]:mb-0"],fixedFooter?["lm:[&_.orbit-modal-footer]:!p-800",fullyScrolled&&"lm:[&_.orbit-modal-footer]:absolute"]:"lm:[&_.orbit-modal-footer]:p-800",fullyScrolled&&"lm:[&_.orbit-modal-footer]:shadow-none",scrolled?["[&_.orbit-modal-mobile-header]:visible [&_.orbit-modal-mobile-header]:opacity-100","lm:[&_.orbit-modal-mobile-header]:top-0"]:"lm:[&_.orbit-modal-mobile-header]:-top-1000",modalWidth?"lm:[&_.orbit-modal-footer]:max-w-[var(--orbit-modal-width)]":maxWidthClasses.footer[size]),style:cssVars,onScroll:event=>{onScroll&&onScroll(event),event.target instanceof HTMLDivElement&&event.target===modalContent.current&&setScrollStates(event.target,10,1,getScrollTopPoint(!0),!0)},ref:modalContentRef,onMouseDown:()=>{setClickedModalBody(!0)}},hasCloseContainer&&react.createElement("div",{className:(0,clsx.A)("z-overlay h-form-box-large pointer-events-none right-0 box-border flex w-full items-center justify-end","duration-fast transition-[shadow,_background-color] ease-in-out","lm:rounded-none",fixedClose||scrolled?"lm:top-0 lm:right-auto fixed":"absolute",isMobileFullPage||!fixedClose&&!scrolled?"top-0":"top-800",!isMobileFullPage&&"rounded-t-modal",modalWidth?"max-w-[var(--orbit-modal-width)]":maxWidthClasses[size],scrolled&&"shadow-fixed bg-white-normal","[&_+_.orbit-modal-section:first-of-type]:pt-1300 [&_+_.orbit-modal-section:first-of-type]:m-0 [&_+_.orbit-modal-section:first-of-type]:border-t-0","[&_.orbit-button-primitive]:me-100 [&_.orbit-button-primitive]:pointer-events-auto","[&_.orbit-button-primitive_svg]:duration-fast [&_.orbit-button-primitive_svg]:text-ink-normal [&_.orbit-button-primitive_svg]:transition-[color] [&_.orbit-button-primitive_svg]:ease-in-out","[&_.orbit-button-primitive:hover_svg]:text-ink-light-hover [&_.orbit-button-primitive:active_svg]:text-ink-light-active"),"data-test":"CloseContainer"},onClose&&hasCloseButton&&react.createElement(ModalCloseButton.A,{onClick:onClose,dataTest:consts.q,title:labelClose})),react.createElement(ModalContext.Vs.Provider,{value},children))))}));Modal.displayName="Modal";const src_Modal=Modal;Modal.__docgenInfo={description:"",methods:[{name:"getScrollPosition",docblock:null,modifiers:[],params:[],returns:null},{name:"setScrollPosition",docblock:null,modifiers:[],params:[{name:"value",optional:!1,type:null}],returns:null}],displayName:"Modal",props:{size:{defaultValue:{value:"SIZES.NORMAL",computed:!0},required:!1},fixedFooter:{defaultValue:{value:"false",computed:!1},required:!1},isMobileFullPage:{defaultValue:{value:"false",computed:!1},required:!1},preventOverlayClose:{defaultValue:{value:"false",computed:!1},required:!1},hasCloseButton:{defaultValue:{value:"true",computed:!1},required:!1},mobileHeader:{defaultValue:{value:"true",computed:!1},required:!1},disableAnimation:{defaultValue:{value:"false",computed:!1},required:!1},labelClose:{defaultValue:{value:'"Close"',computed:!1},required:!1},lockScrolling:{defaultValue:{value:"true",computed:!1},required:!1}}}},"./src/hooks/useFocusTrap/consts.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__='a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, [tabindex="0"], [contenteditable]'},"./src/hooks/useLockScrolling/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>hooks_useLockScrolling});var react=__webpack_require__("../../node_modules/react/index.js"),useTheme=__webpack_require__("./src/hooks/useTheme/index.ts");const hooks_useIsMounted=function useIsMounted(){const isMounted=(0,react.useRef)(!1);return(0,react.useEffect)((()=>(isMounted.current=!0,()=>{isMounted.current=!1})),[]),(0,react.useCallback)((()=>isMounted.current),[])};let hasPassiveEvents=!1;if("undefined"!=typeof window){const passiveTestOptions={get passive(){hasPassiveEvents=!0}};window.addEventListener("testPassive",null,passiveTestOptions),window.removeEventListener("testPassive",null,passiveTestOptions)}const isIosDevice="undefined"!=typeof window&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||"MacIntel"===window.navigator.platform&&window.navigator.maxTouchPoints>1);let previousBodyPosition,previousBodyOverflowSetting,previousBodyPaddingRight,locks=[],documentListenerAdded=!1,initialClientY=-1;const preventDefault=rawEvent=>{const e=rawEvent||window.event;return e.touches.length>1||(e.preventDefault&&e.preventDefault(),!1)},restoreOverflowSetting=()=>{document.body&&(void 0!==previousBodyPaddingRight&&(document.body.style.paddingRight=previousBodyPaddingRight,previousBodyPaddingRight=void 0),void 0!==previousBodyOverflowSetting&&(document.body.style.overflow=previousBodyOverflowSetting,previousBodyOverflowSetting=void 0))},restorePositionSetting=()=>{if(document.body&&previousBodyPosition){const{top,left}=document.body.style;document.body.style.position=previousBodyPosition.position,document.body.style.top=previousBodyPosition.top,document.body.style.left=previousBodyPosition.left,document.body.style.right=previousBodyPosition.right;const y=-parseInt(top,10),x=-parseInt(left,10);window.scrollTo(x,y),previousBodyPosition=void 0}},disableBodyScroll=(targetElement,options)=>{if(locks.some((lock=>lock===targetElement)))return;const lock={targetElement,options};locks=[...locks,lock],isIosDevice?window.requestAnimationFrame((()=>{if(document.body&&void 0===previousBodyPosition){previousBodyPosition={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,right:document.body.style.right};const{scrollY,scrollX,innerHeight}=window;document.body.style.position="fixed",document.body.style.top=-scrollY+"px",document.body.style.left=-scrollX+"px",document.body.style.right="0px",setTimeout((()=>window.requestAnimationFrame((()=>{if(!document.body)return;const bottomBarHeight=innerHeight-window.innerHeight;bottomBarHeight&&scrollY>=innerHeight&&(document.body.style.top=String(-(scrollY+bottomBarHeight)))}))),300)}})):(options=>{if(document.body&&document.documentElement){if(void 0===previousBodyPaddingRight){const scrollBarGap=window.innerWidth-document.documentElement.clientWidth;if(options&&!0===options.reserveScrollBarGap&&scrollBarGap>0){const computedBodyPaddingRight=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right"),10);document.body&&(previousBodyPaddingRight=document.body.style.paddingRight,document.body.style.paddingRight=`${computedBodyPaddingRight||0+scrollBarGap}px`)}}void 0===previousBodyOverflowSetting&&document.body&&(previousBodyOverflowSetting=document.body.style.overflow,document.body.style.overflow="hidden")}})(options),isIosDevice&&(targetElement.ontouchstart=event=>{1===event.targetTouches.length&&(initialClientY=event.targetTouches[0].clientY)},targetElement.ontouchmove=event=>{1===event.targetTouches.length&&((event,targetElement)=>{const clientY=event.targetTouches[0].clientY-initialClientY;targetElement&&0===targetElement.scrollTop&&clientY>0||(targetElement=>!!targetElement&&targetElement.scrollHeight-targetElement.scrollTop<=targetElement.clientHeight)(targetElement)&&clientY<0?preventDefault(event):event.stopPropagation()})(event,targetElement)},documentListenerAdded||(document.addEventListener("touchmove",preventDefault,hasPassiveEvents?{passive:!1}:void 0),documentListenerAdded=!0))},enableBodyScroll=targetElement=>{locks=locks.filter((lock=>lock.targetElement!==targetElement)),isIosDevice&&(targetElement.ontouchstart=null,targetElement.ontouchmove=null,documentListenerAdded&&0===locks.length&&(document.removeEventListener("touchmove",preventDefault,hasPassiveEvents?{passive:!1}:void 0),documentListenerAdded=!1)),0===locks.length&&(isIosDevice?restorePositionSetting():restoreOverflowSetting())},hooks_useLockScrolling=(ref,lock=!0,dependencies=[])=>{const{lockScrolling:themeLockScrolling=!0,lockScrollingBarGap=!0}=(0,useTheme.A)(),isMounted=hooks_useIsMounted();(0,react.useEffect)((()=>{const el=ref.current;return el&&(lock&&themeLockScrolling&&disableBodyScroll(el,{reserveScrollBarGap:lockScrollingBarGap}),lock&&themeLockScrolling||enableBodyScroll(el)),()=>{const didRefChange=el!==ref.current;!el||isMounted()&&!didRefChange||enableBodyScroll(el)}}),[ref,lock,themeLockScrolling,lockScrollingBarGap,isMounted,...dependencies])}}}]);